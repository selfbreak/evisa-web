import{D as e,r as a,e as l,k as s,m as n,j as d,M as i,b as r,R as t,C as o,I as m,L as c}from"./index-lfMN-dzl.js";const p=a=>e.get("/admin-api/v1/admin/sys/sys-oper-log",{...a,pageIndex:null==a?void 0:a.current}),h=a=>e.delete("/admin-api/v1/admin/sys/sys-oper-log",{ids:a}),b=a=>e.download("/admin-api/v1/admin/sys/sys-oper-log/export",a),u=a.forwardRef((({},p)=>{const[h]=l.useForm(),[b,u]=a.useState(!1),[y,g]=a.useState({});a.useImperativeHandle(p,(()=>({async showEditFormModal(a){const{data:l,msg:d,code:i}=await(a=>e.get("/admin-api/v1/admin/sys/sys-oper-log/"+a))(a);i===s.SUCCESS?(g(l),h.setFieldsValue(l),u(!0)):n.error(d)}})));const I=()=>{y.id>0?g({}):g({id:0}),setTimeout((()=>h.resetFields()),100)};return d(i,{title:"详情",getContainer:!1,width:800,open:b,maskClosable:!1,keyboard:!1,onCancel:()=>{I(),u(!1)},destroyOnClose:!0,footer:[d(c,{type:"primary",onClick:e=>{I(),u(!1),e()},children:"确定"},"confirm")],children:d(l,{form:h,layout:"vertical",initialValues:y,children:r(t,{gutter:24,children:[d(o,{span:12,children:d(l.Item,{name:"id",label:"日志编号",children:d(m,{disabled:!0})})}),d(o,{span:12,children:d(l.Item,{name:"operUrl",label:"请求地址",children:d(m,{disabled:!0})})}),d(o,{span:12,children:d(l.Item,{name:"operIp",label:"请求ip",children:d(m,{disabled:!0})})}),d(o,{span:12,children:d(l.Item,{name:"requestMethod",label:"请求方法",children:d(m,{disabled:!0})})}),d(o,{span:12,children:d(l.Item,{name:"latencyTime",label:"耗时",children:d(m,{disabled:!0})})}),d(o,{span:12,children:d(l.Item,{name:"operLocation",label:"访问位置",children:d(m,{disabled:!0})})}),d(o,{span:24,children:d(l.Item,{name:"jsonResult",label:"返回参数",children:d(m.TextArea,{autoSize:{minRows:2},disabled:!0})})}),d(o,{span:12,children:d(l.Item,{name:"status",label:"返回码",children:d(m,{disabled:!0})})}),d(o,{span:12,children:d(l.Item,{name:"operTime",label:"操作时间",children:d(m,{disabled:!0})})})]})})})})),y=Object.freeze(Object.defineProperty({__proto__:null,default:u},Symbol.toStringTag,{value:"Module"}));export{u as F,y as a,h as d,b as e,p as g};
