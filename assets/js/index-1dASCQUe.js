import{r as e,W as n,at as t,aX as o,cS as r,ao as i,be as a,ar as c,bg as l,b7 as s,aq as u,j as m,b as d,F as f,dx as p,_ as g,aP as v,U as h,aB as w,a5 as b,a6 as C,bh as x,dy as y,aT as S,dz as I,aa as N,a8 as k,dA as E,a3 as M,a4 as R,bk as T,dB as O,dC as j,dD as z,dE as P,ac as L,ba as A,am as D,bo as Y,b6 as $,X,az as Z}from"./index-Dn3i6gWy.js";import{a as W}from"./addEventListener-CwX-_1AG.js";function B(){return{width:document.documentElement.clientWidth,height:window.innerHeight||document.documentElement.clientHeight}}var H=e.createContext(null),F=function(c){var l=c.visible,s=c.maskTransitionName,u=c.getContainer,m=c.prefixCls,d=c.rootClassName,f=c.icons,p=c.countRender,g=c.showSwitch,v=c.showProgress,h=c.current,w=c.transform,b=c.count,C=c.scale,x=c.minScale,y=c.maxScale,S=c.closeIcon,I=c.onActive,N=c.onClose,k=c.onZoomIn,E=c.onZoomOut,M=c.onRotateRight,R=c.onRotateLeft,T=c.onFlipX,O=c.onFlipY,j=c.onReset,z=c.toolbarRender,P=c.zIndex,L=c.image,A=e.useContext(H),D=f.rotateLeft,Y=f.rotateRight,$=f.zoomIn,X=f.zoomOut,Z=f.close,W=f.left,B=f.right,F=f.flipX,G=f.flipY,U="".concat(m,"-operations-operation");e.useEffect((function(){var e=function(e){e.keyCode===a.ESC&&N()};return l&&window.addEventListener("keydown",e),function(){window.removeEventListener("keydown",e)}}),[l]);var V=function(e,n){e.preventDefault(),e.stopPropagation(),I(n)},_=e.useCallback((function(o){var r=o.type,i=o.disabled,a=o.onClick,c=o.icon;return e.createElement("div",{key:r,className:n(U,"".concat(m,"-operations-operation-").concat(r),t({},"".concat(m,"-operations-operation-disabled"),!!i)),onClick:a},c)}),[U,m]),Q=g?_({icon:W,onClick:function(e){return V(e,-1)},type:"prev",disabled:0===h}):void 0,q=g?_({icon:B,onClick:function(e){return V(e,1)},type:"next",disabled:h===b-1}):void 0,J=_({icon:G,onClick:O,type:"flipY"}),K=_({icon:F,onClick:T,type:"flipX"}),ee=_({icon:D,onClick:R,type:"rotateLeft"}),ne=_({icon:Y,onClick:M,type:"rotateRight"}),te=_({icon:X,onClick:E,type:"zoomOut",disabled:C<=x}),oe=_({icon:$,onClick:k,type:"zoomIn",disabled:C===y}),re=e.createElement("div",{className:"".concat(m,"-operations")},J,K,ee,ne,te,oe);return e.createElement(o,{visible:l,motionName:s},(function(o){var a=o.className,c=o.style;return e.createElement(r,{open:!0,getContainer:null!=u?u:document.body},e.createElement("div",{className:n("".concat(m,"-operations-wrapper"),a,d),style:i(i({},c),{},{zIndex:P})},null===S?null:e.createElement("button",{className:"".concat(m,"-close"),onClick:N},S||Z),g&&e.createElement(e.Fragment,null,e.createElement("div",{className:n("".concat(m,"-switch-left"),t({},"".concat(m,"-switch-left-disabled"),0===h)),onClick:function(e){return V(e,-1)}},W),e.createElement("div",{className:n("".concat(m,"-switch-right"),t({},"".concat(m,"-switch-right-disabled"),h===b-1)),onClick:function(e){return V(e,1)}},B)),e.createElement("div",{className:"".concat(m,"-footer")},v&&e.createElement("div",{className:"".concat(m,"-progress")},p?p(h+1,b):"".concat(h+1," / ").concat(b)),z?z(re,i(i({icons:{prevIcon:Q,nextIcon:q,flipYIcon:J,flipXIcon:K,rotateLeftIcon:ee,rotateRightIcon:ne,zoomOutIcon:te,zoomInIcon:oe},actions:{onActive:I,onFlipY:O,onFlipX:T,onRotateLeft:R,onRotateRight:M,onZoomOut:E,onZoomIn:k,onReset:j,onClose:N},transform:w},A?{current:h,total:b}:{}),{},{image:L})):re)))}))},G={x:0,y:0,rotate:0,scale:1,flipX:!1,flipY:!1};function U(e,n,o,r){var i=n+o,a=(o-r)/2;if(o>r){if(n>0)return t({},e,a);if(n<0&&i<r)return t({},e,-a)}else if(n<0||i>r)return t({},e,n<0?a:-a);return{}}function V(e,n,t,o){var r=B(),a=r.width,c=r.height,l=null;return e<=a&&n<=c?l={x:0,y:0}:(e>a||n>c)&&(l=i(i({},U("x",t,e,a)),U("y",o,n,c))),l}function _(n){var t=n.src,o=n.isCustomPlaceholder,r=n.fallback,i=e.useState(o?"loading":"normal"),a=c(i,2),l=a[0],s=a[1],u=e.useRef(!1),m="error"===l;e.useEffect((function(){var e=!0;return function(e){return new Promise((function(n){if(e){var t=document.createElement("img");t.onerror=function(){return n(!1)},t.onload=function(){return n(!0)},t.src=e}else n(!1)}))}(t).then((function(n){!n&&e&&s("error")})),function(){e=!1}}),[t]),e.useEffect((function(){o&&!u.current?s("loading"):m&&s("normal")}),[t]);var d=function(){s("normal")};return[function(e){u.current=!1,"loading"===l&&null!=e&&e.complete&&(e.naturalWidth||e.naturalHeight)&&(u.current=!0,d())},m&&r?{src:r}:{onLoad:d,src:t},l]}function Q(e,n){var t=e.x-n.x,o=e.y-n.y;return Math.hypot(t,o)}function q(n,t,o,r,a,l,s){var u=a.rotate,m=a.scale,d=a.x,f=a.y,p=e.useState(!1),g=c(p,2),v=g[0],h=g[1],w=e.useRef({point1:{x:0,y:0},point2:{x:0,y:0},eventType:"none"}),b=function(e){w.current=i(i({},w.current),e)};return e.useEffect((function(){var e;return o&&t&&(e=W(window,"touchmove",(function(e){return e.preventDefault()}),{passive:!1})),function(){var n;null===(n=e)||void 0===n||n.remove()}}),[o,t]),{isTouching:v,onTouchStart:function(e){if(t){e.stopPropagation(),h(!0);var n=e.touches,o=void 0===n?[]:n;o.length>1?b({point1:{x:o[0].clientX,y:o[0].clientY},point2:{x:o[1].clientX,y:o[1].clientY},eventType:"touchZoom"}):b({point1:{x:o[0].clientX-d,y:o[0].clientY-f},eventType:"move"})}},onTouchMove:function(e){var n=e.touches,t=void 0===n?[]:n,o=w.current,r=o.point1,i=o.point2,a=o.eventType;if(t.length>1&&"touchZoom"===a){var u={x:t[0].clientX,y:t[0].clientY},m={x:t[1].clientX,y:t[1].clientY},d=function(e,n,t,o){var r=Q(e,t),i=Q(n,o);if(0===r&&0===i)return[e.x,e.y];var a=r/(r+i);return[e.x+a*(n.x-e.x),e.y+a*(n.y-e.y)]}(r,i,u,m),f=c(d,2),p=f[0],g=f[1],v=Q(u,m)/Q(r,i);s(v,"touchZoom",p,g,!0),b({point1:u,point2:m,eventType:"touchZoom"})}else"move"===a&&(l({x:t[0].clientX-r.x,y:t[0].clientY-r.y},"move"),b({eventType:"move"}))},onTouchEnd:function(){if(o){if(v&&h(!1),b({eventType:"none"}),r>m)return l({x:0,y:0,scale:r},"touchZoom");var e=n.current.offsetWidth*m,t=n.current.offsetHeight*m,a=n.current.getBoundingClientRect(),c=a.left,s=a.top,d=u%180!=0,f=V(d?t:e,d?e:t,c,s);f&&l(i({},f),"dragRebound")}}}}var J=["fallback","src","imgRef"],K=["prefixCls","src","alt","imageInfo","fallback","movable","onClose","visible","icons","rootClassName","closeIcon","getContainer","current","count","countRender","scaleStep","minScale","maxScale","transitionName","maskTransitionName","imageRender","imgCommonProps","toolbarRender","onTransform","onChange"],ee=function(e){var n=e.fallback,t=e.src,o=e.imgRef,r=u(e,J),i=_({src:t,fallback:n}),a=c(i,2),l=a[0],s=a[1];return m("img",{ref:function(e){o.current=e,l(e)},...r,...s})},ne=function(o){var r=o.prefixCls,g=o.src,v=o.alt,h=o.imageInfo,w=o.fallback,b=o.movable,C=void 0===b||b,x=o.onClose,y=o.visible,S=o.icons,I=void 0===S?{}:S,N=o.rootClassName,k=o.closeIcon,E=o.getContainer,M=o.current,R=void 0===M?0:M,T=o.count,O=void 0===T?1:T,j=o.countRender,z=o.scaleStep,P=void 0===z?.5:z,L=o.minScale,A=void 0===L?1:L,D=o.maxScale,Y=void 0===D?50:D,$=o.transitionName,X=void 0===$?"zoom":$,Z=o.maskTransitionName,U=void 0===Z?"fade":Z,_=o.imageRender,Q=o.imgCommonProps,J=o.toolbarRender,ne=o.onTransform,te=o.onChange,oe=u(o,K),re=e.useRef(),ie=e.useContext(H),ae=ie&&O>1,ce=ie&&O>=1,le=e.useState(!0),se=c(le,2),ue=se[0],me=se[1],de=function(n,t,o,r){var a=e.useRef(null),u=e.useRef([]),m=e.useState(G),d=c(m,2),f=d[0],p=d[1],g=function(e,n){null===a.current&&(u.current=[],a.current=s((function(){p((function(e){var t=e;return u.current.forEach((function(e){t=i(i({},t),e)})),a.current=null,null==r||r({transform:t,action:n}),t}))}))),u.current.push(i(i({},f),e))};return{transform:f,resetTransform:function(e){p(G),l(G,f)||null==r||r({transform:G,action:e})},updateTransform:g,dispatchZoomChange:function(e,r,i,a,c){var l=n.current,s=l.width,u=l.height,m=l.offsetWidth,d=l.offsetHeight,p=l.offsetLeft,v=l.offsetTop,h=e,w=f.scale*e;w>o?(w=o,h=o/f.scale):w<t&&(h=(w=c?w:t)/f.scale);var b=null!=i?i:innerWidth/2,C=null!=a?a:innerHeight/2,x=h-1,y=x*s*.5,S=x*u*.5,I=x*(b-f.x-p),N=x*(C-f.y-v),k=f.x-(I-y),E=f.y-(N-S);if(e<1&&1===w){var M=m*w,R=d*w,T=B(),O=T.width,j=T.height;M<=O&&R<=j&&(k=0,E=0)}g({x:k,y:E,scale:w},r)}}}(re,A,Y,ne),fe=de.transform,pe=de.resetTransform,ge=de.updateTransform,ve=de.dispatchZoomChange,he=function(n,t,o,r,a,l,s){var u=a.rotate,m=a.scale,d=a.x,f=a.y,p=e.useState(!1),g=c(p,2),v=g[0],h=g[1],w=e.useRef({diffX:0,diffY:0,transformX:0,transformY:0}),b=function(e){o&&v&&l({x:e.pageX-w.current.diffX,y:e.pageY-w.current.diffY},"move")},C=function(){if(o&&v){h(!1);var e=w.current,t=e.transformX,r=e.transformY;if(d===t||f===r)return;var a=n.current.offsetWidth*m,c=n.current.offsetHeight*m,s=n.current.getBoundingClientRect(),p=s.left,g=s.top,b=u%180!=0,C=V(b?c:a,b?a:c,p,g);C&&l(i({},C),"dragRebound")}};return e.useEffect((function(){var e,n,o,r;if(t){o=W(window,"mouseup",C,!1),r=W(window,"mousemove",b,!1);try{window.top!==window.self&&(e=W(window.top,"mouseup",C,!1),n=W(window.top,"mousemove",b,!1))}catch(i){}}return function(){var t,i,a,c;null===(t=o)||void 0===t||t.remove(),null===(i=r)||void 0===i||i.remove(),null===(a=e)||void 0===a||a.remove(),null===(c=n)||void 0===c||c.remove()}}),[o,v,d,f,u,t]),{isMoving:v,onMouseDown:function(e){t&&0===e.button&&(e.preventDefault(),e.stopPropagation(),w.current={diffX:e.pageX-d,diffY:e.pageY-f,transformX:d,transformY:f},h(!0))},onMouseMove:b,onMouseUp:C,onWheel:function(e){if(o&&0!=e.deltaY){var n=Math.abs(e.deltaY/100),t=1+Math.min(n,1)*r;e.deltaY>0&&(t=1/t),s(t,"wheel",e.clientX,e.clientY)}}}}(re,C,y,P,fe,ge,ve),we=he.isMoving,be=he.onMouseDown,Ce=he.onWheel,xe=q(re,C,y,A,fe,ge,ve),ye=xe.isTouching,Se=xe.onTouchStart,Ie=xe.onTouchMove,Ne=xe.onTouchEnd,ke=fe.rotate,Ee=fe.scale,Me=n(t({},"".concat(r,"-moving"),we));e.useEffect((function(){ue||me(!0)}),[ue]);var Re=function(e){var n=R+e;!Number.isInteger(n)||n<0||n>O-1||(me(!1),pe(e<0?"prev":"next"),null==te||te(n,R))},Te=function(e){y&&ae&&(e.keyCode===a.LEFT?Re(-1):e.keyCode===a.RIGHT&&Re(1))};e.useEffect((function(){var e=W(window,"keydown",Te,!1);return function(){e.remove()}}),[y,ae,R]);var Oe=m(ee,{...Q,width:o.width,height:o.height,imgRef:re,className:"".concat(r,"-img"),alt:v,style:{transform:"translate3d(".concat(fe.x,"px, ").concat(fe.y,"px, 0) scale3d(").concat(fe.flipX?"-":"").concat(Ee,", ").concat(fe.flipY?"-":"").concat(Ee,", 1) rotate(").concat(ke,"deg)"),transitionDuration:(!ue||ye)&&"0s"},fallback:w,src:g,onWheel:Ce,onMouseDown:be,onDoubleClick:function(e){y&&(1!==Ee?ge({x:0,y:0,scale:1},"doubleClick"):ve(1+P,"doubleClick",e.clientX,e.clientY))},onTouchStart:Se,onTouchMove:Ie,onTouchEnd:Ne,onTouchCancel:Ne}),je=i({url:g,alt:v},h);return d(f,{children:[m(p,{transitionName:X,maskTransitionName:U,closable:!1,keyboard:!0,prefixCls:r,onClose:x,visible:y,classNames:{wrapper:Me},rootClassName:N,getContainer:E,...oe,afterClose:function(){pe("close")},children:m("div",{className:"".concat(r,"-img-wrapper"),children:_?_(Oe,i({transform:fe,image:je},ie?{current:R}:{})):Oe})}),m(F,{visible:y,transform:fe,maskTransitionName:U,closeIcon:k,getContainer:E,prefixCls:r,rootClassName:N,icons:I,countRender:j,showSwitch:ae,showProgress:ce,current:R,count:O,scale:Ee,minScale:A,maxScale:Y,toolbarRender:J,onActive:Re,onZoomIn:function(){ve(1+P,"zoomIn")},onZoomOut:function(){ve(1/(1+P),"zoomOut")},onRotateRight:function(){ge({rotate:ke+90},"rotateRight")},onRotateLeft:function(){ge({rotate:ke-90},"rotateLeft")},onFlipX:function(){ge({flipX:!fe.flipX},"flipX")},onFlipY:function(){ge({flipY:!fe.flipY},"flipY")},onClose:x,onReset:function(){pe("reset")},zIndex:void 0!==oe.zIndex?oe.zIndex+1:void 0,image:je})]})},te=["crossOrigin","decoding","draggable","loading","referrerPolicy","sizes","srcSet","useMap","alt"];var oe=["visible","onVisibleChange","getContainer","current","movable","minScale","maxScale","countRender","closeIcon","onChange","onTransform","toolbarRender","imageRender"],re=["src"],ie=0;var ae=["src","alt","onPreviewClose","prefixCls","previewPrefixCls","placeholder","fallback","width","height","style","preview","className","onClick","onError","wrapperClassName","wrapperStyle","rootClassName"],ce=["src","visible","onVisibleChange","getContainer","mask","maskClassName","movable","icons","scaleStep","minScale","maxScale","imageRender","toolbarRender"],le=function(o){var r=o.src,a=o.alt,l=o.onPreviewClose,s=o.prefixCls,m=void 0===s?"rc-image":s,d=o.previewPrefixCls,f=void 0===d?"".concat(m,"-preview"):d,p=o.placeholder,g=o.fallback,b=o.width,C=o.height,x=o.style,y=o.preview,S=void 0===y||y,I=o.className,N=o.onClick,k=o.onError,E=o.wrapperClassName,M=o.wrapperStyle,R=o.rootClassName,T=u(o,ae),O=p&&!0!==p,j="object"===v(S)?S:{},z=j.src,P=j.visible,L=void 0===P?void 0:P,A=j.onVisibleChange,D=void 0===A?l:A,Y=j.getContainer,$=void 0===Y?void 0:Y,X=j.mask,Z=j.maskClassName,W=j.movable,B=j.icons,F=j.scaleStep,G=j.minScale,U=j.maxScale,V=j.imageRender,Q=j.toolbarRender,q=u(j,ce),J=null!=z?z:r,K=h(!!L,{value:L,onChange:D}),ee=c(K,2),oe=ee[0],re=ee[1],le=_({src:r,isCustomPlaceholder:O,fallback:g}),se=c(le,3),ue=se[0],me=se[1],de=se[2],fe=e.useState(null),pe=c(fe,2),ge=pe[0],ve=pe[1],he=e.useContext(H),we=!!S,be=n(m,E,R,t({},"".concat(m,"-error"),"error"===de)),Ce=e.useMemo((function(){var e={};return te.forEach((function(n){void 0!==o[n]&&(e[n]=o[n])})),e}),te.map((function(e){return o[e]}))),xe=function(n,t){var o=e.useState((function(){return String(ie+=1)})),r=c(o,1)[0],i=e.useContext(H),a={data:t,canPreview:n};return e.useEffect((function(){if(i)return i.register(r,a)}),[]),e.useEffect((function(){i&&i.register(r,a)}),[n,t]),r}(we,e.useMemo((function(){return i(i({},Ce),{},{src:J})}),[J,Ce]));return e.createElement(e.Fragment,null,e.createElement("div",w({},T,{className:be,onClick:we?function(e){var n,t,o,r=(n=e.target,t=n.getBoundingClientRect(),o=document.documentElement,{left:t.left+(window.pageXOffset||o.scrollLeft)-(o.clientLeft||document.body.clientLeft||0),top:t.top+(window.pageYOffset||o.scrollTop)-(o.clientTop||document.body.clientTop||0)}),i=r.left,a=r.top;he?he.onPreview(xe,J,i,a):(ve({x:i,y:a}),re(!0)),null==N||N(e)}:N,style:i({width:b,height:C},M)}),e.createElement("img",w({},Ce,{className:n("".concat(m,"-img"),t({},"".concat(m,"-img-placeholder"),!0===p),I),style:i({height:C},x),ref:ue},me,{width:b,height:C,onError:k})),"loading"===de&&e.createElement("div",{"aria-hidden":"true",className:"".concat(m,"-placeholder")},p),X&&we&&e.createElement("div",{className:n("".concat(m,"-mask"),Z),style:{display:"none"===(null==x?void 0:x.display)?"none":void 0}},X)),!he&&we&&e.createElement(ne,w({"aria-hidden":!oe,visible:oe,prefixCls:f,onClose:function(){re(!1),ve(null)},mousePosition:ge,src:J,alt:a,imageInfo:{width:b,height:C},fallback:g,getContainer:$,icons:B,movable:W,scaleStep:F,minScale:G,maxScale:U,rootClassName:R,imageRender:V,imgCommonProps:Ce,toolbarRender:Q},q)))};le.PreviewGroup=function(n){var o,r=n.previewPrefixCls,a=void 0===r?"rc-image-preview":r,l=n.children,s=n.icons,m=void 0===s?{}:s,d=n.items,f=n.preview,p=n.fallback,b="object"===v(f)?f:{},C=b.visible,x=b.onVisibleChange,y=b.getContainer,S=b.current,I=b.movable,N=b.minScale,k=b.maxScale,E=b.countRender,M=b.closeIcon,R=b.onChange,T=b.onTransform,O=b.toolbarRender,j=b.imageRender,z=u(b,oe),P=function(n){var o=e.useState({}),r=c(o,2),a=r[0],l=r[1],s=e.useCallback((function(e,n){return l((function(o){return i(i({},o),{},t({},e,n))})),function(){l((function(n){var t=i({},n);return delete t[e],t}))}}),[]);return[e.useMemo((function(){return n?n.map((function(e){if("string"==typeof e)return{data:{src:e}};var n={};return Object.keys(e).forEach((function(t){["src"].concat(g(te)).includes(t)&&(n[t]=e[t])})),{data:n}})):Object.keys(a).reduce((function(e,n){var t=a[n],o=t.canPreview,r=t.data;return o&&e.push({data:r,id:n}),e}),[])}),[n,a]),s,!!n]}(d),L=c(P,3),A=L[0],D=L[1],Y=L[2],$=h(0,{value:S}),X=c($,2),Z=X[0],W=X[1],B=e.useState(!1),F=c(B,2),G=F[0],U=F[1],V=(null===(o=A[Z])||void 0===o?void 0:o.data)||{},_=V.src,Q=u(V,re),q=h(!!C,{value:C,onChange:function(e,n){null==x||x(e,n,Z)}}),J=c(q,2),K=J[0],ee=J[1],ie=e.useState(null),ae=c(ie,2),ce=ae[0],le=ae[1],se=e.useCallback((function(e,n,t,o){var r=Y?A.findIndex((function(e){return e.data.src===n})):A.findIndex((function(n){return n.id===e}));W(r<0?0:r),ee(!0),le({x:t,y:o}),U(!0)}),[A,Y]);e.useEffect((function(){K?G||W(0):U(!1)}),[K]);var ue=e.useMemo((function(){return{register:D,onPreview:se}}),[D,se]);return e.createElement(H.Provider,{value:ue},l,e.createElement(ne,w({"aria-hidden":!K,movable:I,visible:K,prefixCls:a,closeIcon:M,onClose:function(){ee(!1),le(null)},mousePosition:ce,imgCommonProps:Q,src:_,fallback:p,icons:m,minScale:N,maxScale:k,getContainer:y,current:Z,count:A.length,countRender:E,onTransform:T,toolbarRender:O,imageRender:j,onChange:function(e,n){W(e),null==R||R(e,n)}},z)))};const se=e=>({position:e||"absolute",inset:0}),ue=e=>{const{iconCls:n,motionDurationSlow:t,paddingXXS:o,marginXXS:r,prefixCls:i,colorTextLightSolid:a}=e;return{position:"absolute",inset:0,display:"flex",alignItems:"center",justifyContent:"center",color:a,background:new x("#000").setA(.5).toRgbString(),cursor:"pointer",opacity:0,transition:`opacity ${t}`,[`.${i}-mask-info`]:Object.assign(Object.assign({},N),{padding:`0 ${k(o)}`,[n]:{marginInlineEnd:r,svg:{verticalAlign:"baseline"}}})}},me=e=>{const{previewCls:n,modalMaskBg:t,paddingSM:o,marginXL:r,margin:i,paddingLG:a,previewOperationColorDisabled:c,previewOperationHoverColor:l,motionDurationSlow:s,iconCls:u,colorTextLightSolid:m}=e,d=new x(t).setA(.1),f=d.clone().setA(.2);return{[`${n}-footer`]:{position:"fixed",bottom:r,left:{_skip_check_:!0,value:"50%"},display:"flex",flexDirection:"column",alignItems:"center",color:e.previewOperationColor,transform:"translateX(-50%)"},[`${n}-progress`]:{marginBottom:i},[`${n}-close`]:{position:"fixed",top:r,right:{_skip_check_:!0,value:r},display:"flex",color:m,backgroundColor:d.toRgbString(),borderRadius:"50%",padding:o,outline:0,border:0,cursor:"pointer",transition:`all ${s}`,"&:hover":{backgroundColor:f.toRgbString()},[`& > ${u}`]:{fontSize:e.previewOperationSize}},[`${n}-operations`]:{display:"flex",alignItems:"center",padding:`0 ${k(a)}`,backgroundColor:d.toRgbString(),borderRadius:100,"&-operation":{marginInlineStart:o,padding:o,cursor:"pointer",transition:`all ${s}`,userSelect:"none",[`&:not(${n}-operations-operation-disabled):hover > ${u}`]:{color:l},"&-disabled":{color:c,cursor:"not-allowed"},"&:first-of-type":{marginInlineStart:0},[`& > ${u}`]:{fontSize:e.previewOperationSize}}}}},de=e=>{const{modalMaskBg:n,iconCls:t,previewOperationColorDisabled:o,previewCls:r,zIndexPopup:i,motionDurationSlow:a}=e,c=new x(n).setA(.1),l=c.clone().setA(.2);return{[`${r}-switch-left, ${r}-switch-right`]:{position:"fixed",insetBlockStart:"50%",zIndex:e.calc(i).add(1).equal(),display:"flex",alignItems:"center",justifyContent:"center",width:e.imagePreviewSwitchSize,height:e.imagePreviewSwitchSize,marginTop:e.calc(e.imagePreviewSwitchSize).mul(-1).div(2).equal(),color:e.previewOperationColor,background:c.toRgbString(),borderRadius:"50%",transform:"translateY(-50%)",cursor:"pointer",transition:`all ${a}`,userSelect:"none","&:hover":{background:l.toRgbString()},"&-disabled":{"&, &:hover":{color:o,background:"transparent",cursor:"not-allowed",[`> ${t}`]:{cursor:"not-allowed"}}},[`> ${t}`]:{fontSize:e.previewOperationSize}},[`${r}-switch-left`]:{insetInlineStart:e.marginSM},[`${r}-switch-right`]:{insetInlineEnd:e.marginSM}}},fe=e=>{const{motionEaseOut:n,previewCls:t,motionDurationSlow:o,componentCls:r}=e;return[{[`${r}-preview-root`]:{[t]:{height:"100%",textAlign:"center",pointerEvents:"none"},[`${t}-body`]:Object.assign(Object.assign({},se()),{overflow:"hidden"}),[`${t}-img`]:{maxWidth:"100%",maxHeight:"70%",verticalAlign:"middle",transform:"scale3d(1, 1, 1)",cursor:"grab",transition:`transform ${o} ${n} 0s`,userSelect:"none","&-wrapper":Object.assign(Object.assign({},se()),{transition:`transform ${o} ${n} 0s`,display:"flex",justifyContent:"center",alignItems:"center","& > *":{pointerEvents:"auto"},"&::before":{display:"inline-block",width:1,height:"50%",marginInlineEnd:-1,content:'""'}})},[`${t}-moving`]:{[`${t}-preview-img`]:{cursor:"grabbing","&-wrapper":{transitionDuration:"0s"}}}}},{[`${r}-preview-root`]:{[`${t}-wrap`]:{zIndex:e.zIndexPopup}}},{[`${r}-preview-operations-wrapper`]:{position:"fixed",zIndex:e.calc(e.zIndexPopup).add(1).equal()},"&":[me(e),de(e)]}]},pe=e=>{const{componentCls:n}=e;return{[n]:{position:"relative",display:"inline-block",[`${n}-img`]:{width:"100%",height:"auto",verticalAlign:"middle"},[`${n}-img-placeholder`]:{backgroundColor:e.colorBgContainerDisabled,backgroundImage:"url('data:image/svg+xml;base64,PHN2ZyB3aWR0aD0iMTYiIGhlaWdodD0iMTYiIHZpZXdCb3g9IjAgMCAxNiAxNiIgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIj48cGF0aCBkPSJNMTQuNSAyLjVoLTEzQS41LjUgMCAwIDAgMSAzdjEwYS41LjUgMCAwIDAgLjUuNWgxM2EuNS41IDAgMCAwIC41LS41VjNhLjUuNSAwIDAgMC0uNS0uNXpNNS4yODEgNC43NWExIDEgMCAwIDEgMCAyIDEgMSAwIDAgMSAwLTJ6bTguMDMgNi44M2EuMTI3LjEyNyAwIDAgMS0uMDgxLjAzSDIuNzY5YS4xMjUuMTI1IDAgMCAxLS4wOTYtLjIwN2wyLjY2MS0zLjE1NmEuMTI2LjEyNiAwIDAgMSAuMTc3LS4wMTZsLjAxNi4wMTZMNy4wOCAxMC4wOWwyLjQ3LTIuOTNhLjEyNi4xMjYgMCAwIDEgLjE3Ny0uMDE2bC4wMTUuMDE2IDMuNTg4IDQuMjQ0YS4xMjcuMTI3IDAgMCAxLS4wMi4xNzV6IiBmaWxsPSIjOEM4QzhDIiBmaWxsLXJ1bGU9Im5vbnplcm8iLz48L3N2Zz4=')",backgroundRepeat:"no-repeat",backgroundPosition:"center center",backgroundSize:"30%"},[`${n}-mask`]:Object.assign({},ue(e)),[`${n}-mask:hover`]:{opacity:1},[`${n}-placeholder`]:Object.assign({},se())}}},ge=e=>{const{previewCls:n}=e;return{[`${n}-root`]:I(e,"zoom"),"&":S(e,!0)}},ve=b("Image",(e=>{const n=`${e.componentCls}-preview`,t=C(e,{previewCls:n,modalMaskBg:new x("#000").setA(.45).toRgbString(),imagePreviewSwitchSize:e.controlHeightLG});return[pe(t),fe(t),y(C(t,{componentCls:n})),ge(t)]}),(e=>({zIndexPopup:e.zIndexPopupBase+80,previewOperationColor:new x(e.colorTextLightSolid).setA(.65).toRgbString(),previewOperationHoverColor:new x(e.colorTextLightSolid).setA(.85).toRgbString(),previewOperationColorDisabled:new x(e.colorTextLightSolid).setA(.25).toRgbString(),previewOperationSize:1.5*e.fontSizeIcon})));const he={rotateLeft:e.createElement(P,null),rotateRight:e.createElement(z,null),zoomIn:e.createElement(j,null),zoomOut:e.createElement(O,null),close:e.createElement(T,null),left:e.createElement(R,null),right:e.createElement(M,null),flipX:e.createElement(E,null),flipY:e.createElement(E,{rotate:90})};var we=function(e,n){var t={};for(var o in e)Object.prototype.hasOwnProperty.call(e,o)&&n.indexOf(o)<0&&(t[o]=e[o]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols){var r=0;for(o=Object.getOwnPropertySymbols(e);r<o.length;r++)n.indexOf(o[r])<0&&Object.prototype.propertyIsEnumerable.call(e,o[r])&&(t[o[r]]=e[o[r]])}return t};const be=t=>{const{prefixCls:o,preview:r,className:i,rootClassName:a,style:c}=t,l=we(t,["prefixCls","preview","className","rootClassName","style"]),{getPrefixCls:s,getPopupContainer:u,className:m,style:d,preview:f}=$("image"),[p]=X("Image"),g=s("image",o),v=s(),h=A(g),[w,b,C]=ve(g,h),x=n(a,b,C,h),y=n(i,b,m),[S]=D("ImagePreview","object"==typeof r?r.zIndex:void 0),I=e.useMemo((()=>{if(!1===r)return r;const t="object"==typeof r?r:{},{getContainer:o,closeIcon:i,rootClassName:a}=t,c=we(t,["getContainer","closeIcon","rootClassName"]);return Object.assign(Object.assign({mask:e.createElement("div",{className:`${g}-mask-info`},e.createElement(Z,null),null==p?void 0:p.preview),icons:he},c),{rootClassName:n(x,a),getContainer:null!=o?o:u,transitionName:Y(v,"zoom",t.transitionName),maskTransitionName:Y(v,"fade",t.maskTransitionName),zIndex:S,closeIcon:null!=i?i:null==f?void 0:f.closeIcon})}),[r,p,null==f?void 0:f.closeIcon]),N=Object.assign(Object.assign({},d),c);return w(e.createElement(le,Object.assign({prefixCls:g,preview:I,rootClassName:x,className:y,style:N},l)))};be.PreviewGroup=t=>{var{previewPrefixCls:o,preview:r}=t,i=function(e,n){var t={};for(var o in e)Object.prototype.hasOwnProperty.call(e,o)&&n.indexOf(o)<0&&(t[o]=e[o]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols){var r=0;for(o=Object.getOwnPropertySymbols(e);r<o.length;r++)n.indexOf(o[r])<0&&Object.prototype.propertyIsEnumerable.call(e,o[r])&&(t[o[r]]=e[o[r]])}return t}(t,["previewPrefixCls","preview"]);const{getPrefixCls:a}=e.useContext(L),c=a("image",o),l=`${c}-preview`,s=a(),u=A(c),[m,d,f]=ve(c,u),[p]=D("ImagePreview","object"==typeof r?r.zIndex:void 0),g=e.useMemo((()=>{var e;if(!1===r)return r;const t="object"==typeof r?r:{},o=n(d,f,u,null!==(e=t.rootClassName)&&void 0!==e?e:"");return Object.assign(Object.assign({},t),{transitionName:Y(s,"zoom",t.transitionName),maskTransitionName:Y(s,"fade",t.maskTransitionName),rootClassName:o,zIndex:p})}),[r]);return m(e.createElement(le.PreviewGroup,Object.assign({preview:g,previewPrefixCls:l,icons:he},i)))};export{be as I};
