import{ao as e,aK as n,a0 as t,_ as o,aP as r,al as a,aq as i,a6 as d,a7 as l,a8 as s,b8 as c,a5 as u,r as p,W as f,at as h,p as g,ar as v,aR as y,aB as b,bf as k,aX as m,aL as K,aM as x,aN as N,aO as C,be as E,aQ as S,aV as w,aS as D,b0 as $,a$ as P,cX as O,cY as T,cZ as I,c_ as L}from"./index-1r8JWfgz.js";import{L as M}from"./List-ChZv07U9.js";function R(e,n){return e[n]}var A=["children"];function B(e,n){return"".concat(e,"-").concat(n)}function j(e,n){return null!=e?e:n}function H(e){var n=e||{},t=n.title||"title";return{title:t,_title:n._title||[t],key:n.key||"key",children:n.children||"children"}}function q(t){return function t(o){return a(o).map((function(o){if(!function(e){return e&&e.type&&e.type.isTreeNode}(o))return n(!o,"Tree/TreeNode can only accept TreeNode as children."),null;var r=o.key,a=o.props,d=a.children,l=i(a,A),s=e({key:r},l),c=t(d);return c.length&&(s.children=c),s})).filter((function(e){return e}))}(t)}function W(e,n,r){var a=H(r),i=a._title,d=a.key,l=a.children,s=new Set(!0===n?[]:n),c=[];return function e(r){var a=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;return r.map((function(u,p){for(var f,h=B(a?a.pos:"0",p),g=j(u[d],h),v=0;v<i.length;v+=1){var y=i[v];if(void 0!==u[y]){f=u[y];break}}var b=Object.assign(t(u,[].concat(o(i),[d,l])),{title:f,key:g,parent:a,pos:h,children:null,data:u,isStart:[].concat(o(a?a.isStart:[]),[0===p]),isEnd:[].concat(o(a?a.isEnd:[]),[p===r.length-1])});return c.push(b),!0===n||s.has(g)?b.children=e(u[l]||[],b):b.children=[],b}))}(e),c}function z(e){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},t=n.initWrapper,a=n.processEntity,i=n.onProcessFinished,d=n.externalGetKey,l=n.childrenPropName,s=n.fieldNames,c=d||(arguments.length>2?arguments[2]:void 0),u={},p={},f={posEntities:u,keyEntities:p};return t&&(f=t(f)||f),function(e,n,t){var a,i=("object"===r(t)?t:{externalGetKey:t})||{},d=i.childrenPropName,l=i.externalGetKey,s=H(i.fieldNames),c=s.key,u=s.children,p=d||u;l?"string"==typeof l?a=function(e){return e[l]}:"function"==typeof l&&(a=function(e){return l(e)}):a=function(e,n){return j(e[c],n)},function t(r,i,d,l){var s=r?r[p]:e,c=r?B(d.pos,i):"0",u=r?[].concat(o(l),[r]):[];if(r){var f=a(r,c),h={node:r,index:i,pos:c,key:f,parentPos:d.node?d.pos:null,level:d.level+1,nodes:u};n(h)}s&&s.forEach((function(e,n){t(e,n,{node:r,pos:c,level:d?d.level+1:-1},u)}))}(null)}(e,(function(e){var n=e.node,t=e.index,o=e.pos,r=e.key,i=e.parentPos,d=e.level,l={node:n,nodes:e.nodes,index:t,key:r,pos:o,level:d},s=j(r,o);u[o]=l,p[s]=l,l.parent=u[i],l.parent&&(l.parent.children=l.parent.children||[],l.parent.children.push(l)),a&&a(l,f)}),{externalGetKey:c,childrenPropName:l,fieldNames:s}),i&&i(f),f}function G(e,n){var t=n.expandedKeys,o=n.selectedKeys,r=n.loadedKeys,a=n.loadingKeys,i=n.checkedKeys,d=n.halfCheckedKeys,l=n.dragOverNodeKey,s=n.dropPosition,c=R(n.keyEntities,e);return{eventKey:e,expanded:-1!==t.indexOf(e),selected:-1!==o.indexOf(e),loaded:-1!==r.indexOf(e),loading:-1!==a.indexOf(e),checked:-1!==i.indexOf(e),halfChecked:-1!==d.indexOf(e),pos:String(c?c.pos:""),dragOver:l===e&&0===s,dragOverGapTop:l===e&&-1===s,dragOverGapBottom:l===e&&1===s}}function _(t){var o=t.data,r=t.expanded,a=t.selected,i=t.checked,d=t.loaded,l=t.loading,s=t.halfChecked,c=t.dragOver,u=t.dragOverGapTop,p=t.dragOverGapBottom,f=t.pos,h=t.active,g=t.eventKey,v=e(e({},o),{},{expanded:r,selected:a,checked:i,loaded:d,loading:l,halfChecked:s,dragOver:c,dragOverGapTop:u,dragOverGapBottom:p,pos:f,active:h,key:g});return"props"in v||Object.defineProperty(v,"props",{get:function(){return n(!1,"Second param return from event is node data instead of TreeNode instance. Please read value directly instead of reading from `props`."),t}}),v}function U(e,n){var t=new Set;return e.forEach((function(e){n.has(e)||t.add(e)})),t}function F(e){var n=e||{},t=n.disabled,o=n.disableCheckbox,r=n.checkable;return!(!t&&!o)||!1===r}function X(e,t,o,r){var a,i=[];a=r||F;var d,l=new Set(e.filter((function(e){var n=!!R(o,e);return n||i.push(e),n}))),s=new Map,c=0;return Object.keys(o).forEach((function(e){var n=o[e],t=n.level,r=s.get(t);r||(r=new Set,s.set(t,r)),r.add(n),c=Math.max(c,t)})),n(!i.length,"Tree missing follow keys: ".concat(i.slice(0,100).map((function(e){return"'".concat(e,"'")})).join(", "))),d=!0===t?function(e,n,t,o){for(var r=new Set(e),a=new Set,i=0;i<=t;i+=1)(n.get(i)||new Set).forEach((function(e){var n=e.key,t=e.node,a=e.children,i=void 0===a?[]:a;r.has(n)&&!o(t)&&i.filter((function(e){return!o(e.node)})).forEach((function(e){r.add(e.key)}))}));for(var d=new Set,l=t;l>=0;l-=1)(n.get(l)||new Set).forEach((function(e){var n=e.parent,t=e.node;if(!o(t)&&e.parent&&!d.has(e.parent.key))if(o(e.parent.node))d.add(n.key);else{var i=!0,l=!1;(n.children||[]).filter((function(e){return!o(e.node)})).forEach((function(e){var n=e.key,t=r.has(n);i&&!t&&(i=!1),l||!t&&!a.has(n)||(l=!0)})),i&&r.add(n.key),l&&a.add(n.key),d.add(n.key)}}));return{checkedKeys:Array.from(r),halfCheckedKeys:Array.from(U(a,r))}}(l,s,c,a):function(e,n,t,o,r){for(var a=new Set(e),i=new Set(n),d=0;d<=o;d+=1)(t.get(d)||new Set).forEach((function(e){var n=e.key,t=e.node,o=e.children,d=void 0===o?[]:o;a.has(n)||i.has(n)||r(t)||d.filter((function(e){return!r(e.node)})).forEach((function(e){a.delete(e.key)}))}));i=new Set;for(var l=new Set,s=o;s>=0;s-=1)(t.get(s)||new Set).forEach((function(e){var n=e.parent,t=e.node;if(!r(t)&&e.parent&&!l.has(e.parent.key))if(r(e.parent.node))l.add(n.key);else{var o=!0,d=!1;(n.children||[]).filter((function(e){return!r(e.node)})).forEach((function(e){var n=e.key,t=a.has(n);o&&!t&&(o=!1),d||!t&&!i.has(n)||(d=!0)})),o||a.delete(n.key),d&&i.add(n.key),l.add(n.key)}}));return{checkedKeys:Array.from(a),halfCheckedKeys:Array.from(U(i,a))}}(l,t.halfCheckedKeys,s,c,a),d}const V=e=>{const{checkboxCls:n}=e,t=`${n}-wrapper`;return[{[`${n}-group`]:Object.assign(Object.assign({},l(e)),{display:"inline-flex",flexWrap:"wrap",columnGap:e.marginXS,[`> ${e.antCls}-row`]:{flex:1}}),[t]:Object.assign(Object.assign({},l(e)),{display:"inline-flex",alignItems:"baseline",cursor:"pointer","&:after":{display:"inline-block",width:0,overflow:"hidden",content:"'\\a0'"},[`& + ${t}`]:{marginInlineStart:0},[`&${t}-in-form-item`]:{'input[type="checkbox"]':{width:14,height:14}}}),[n]:Object.assign(Object.assign({},l(e)),{position:"relative",whiteSpace:"nowrap",lineHeight:1,cursor:"pointer",borderRadius:e.borderRadiusSM,alignSelf:"center",[`${n}-input`]:{position:"absolute",inset:0,zIndex:1,cursor:"pointer",opacity:0,margin:0,[`&:focus-visible + ${n}-inner`]:Object.assign({},c(e))},[`${n}-inner`]:{boxSizing:"border-box",display:"block",width:e.checkboxSize,height:e.checkboxSize,direction:"ltr",backgroundColor:e.colorBgContainer,border:`${s(e.lineWidth)} ${e.lineType} ${e.colorBorder}`,borderRadius:e.borderRadiusSM,borderCollapse:"separate",transition:`all ${e.motionDurationSlow}`,"&:after":{boxSizing:"border-box",position:"absolute",top:"50%",insetInlineStart:"25%",display:"table",width:e.calc(e.checkboxSize).div(14).mul(5).equal(),height:e.calc(e.checkboxSize).div(14).mul(8).equal(),border:`${s(e.lineWidthBold)} solid ${e.colorWhite}`,borderTop:0,borderInlineStart:0,transform:"rotate(45deg) scale(0) translate(-50%,-50%)",opacity:0,content:'""',transition:`all ${e.motionDurationFast} ${e.motionEaseInBack}, opacity ${e.motionDurationFast}`}},"& + span":{paddingInlineStart:e.paddingXS,paddingInlineEnd:e.paddingXS}})},{[`\n        ${t}:not(${t}-disabled),\n        ${n}:not(${n}-disabled)\n      `]:{[`&:hover ${n}-inner`]:{borderColor:e.colorPrimary}},[`${t}:not(${t}-disabled)`]:{[`&:hover ${n}-checked:not(${n}-disabled) ${n}-inner`]:{backgroundColor:e.colorPrimaryHover,borderColor:"transparent"},[`&:hover ${n}-checked:not(${n}-disabled):after`]:{borderColor:e.colorPrimaryHover}}},{[`${n}-checked`]:{[`${n}-inner`]:{backgroundColor:e.colorPrimary,borderColor:e.colorPrimary,"&:after":{opacity:1,transform:"rotate(45deg) scale(1) translate(-50%,-50%)",transition:`all ${e.motionDurationMid} ${e.motionEaseOutBack} ${e.motionDurationFast}`}}},[`\n        ${t}-checked:not(${t}-disabled),\n        ${n}-checked:not(${n}-disabled)\n      `]:{[`&:hover ${n}-inner`]:{backgroundColor:e.colorPrimaryHover,borderColor:"transparent"}}},{[n]:{"&-indeterminate":{[`${n}-inner`]:{backgroundColor:`${e.colorBgContainer} !important`,borderColor:`${e.colorBorder} !important`,"&:after":{top:"50%",insetInlineStart:"50%",width:e.calc(e.fontSizeLG).div(2).equal(),height:e.calc(e.fontSizeLG).div(2).equal(),backgroundColor:e.colorPrimary,border:0,transform:"translate(-50%, -50%) scale(1)",opacity:1,content:'""'}},[`&:hover ${n}-inner`]:{backgroundColor:`${e.colorBgContainer} !important`,borderColor:`${e.colorPrimary} !important`}}}},{[`${t}-disabled`]:{cursor:"not-allowed"},[`${n}-disabled`]:{[`&, ${n}-input`]:{cursor:"not-allowed",pointerEvents:"none"},[`${n}-inner`]:{background:e.colorBgContainerDisabled,borderColor:e.colorBorder,"&:after":{borderColor:e.colorTextDisabled}},"&:after":{display:"none"},"& + span":{color:e.colorTextDisabled},[`&${n}-indeterminate ${n}-inner::after`]:{background:e.colorTextDisabled}}}]};function Y(e,n){const t=d(n,{checkboxCls:`.${e}`,checkboxSize:n.controlInteractiveSize});return[V(t)]}const Q=u("Checkbox",((e,n)=>{let{prefixCls:t}=n;return[Y(t,e)]}));var Z=p.createContext(null),J=p.createContext({}),ee=function(e){for(var n=e.prefixCls,t=e.level,o=e.isStart,r=e.isEnd,a="".concat(n,"-indent-unit"),i=[],d=0;d<t;d+=1)i.push(p.createElement("span",{key:d,className:f(a,h(h({},"".concat(a,"-start"),o[d]),"".concat(a,"-end"),r[d]))}));return p.createElement("span",{"aria-hidden":"true",className:"".concat(n,"-indent")},i)};const ne=p.memo(ee);var te=["eventKey","className","style","dragOver","dragOverGapTop","dragOverGapBottom","isLeaf","isStart","isEnd","expanded","selected","checked","halfChecked","loading","domRef","active","data","onMouseMove","selectable"],oe="open",re="close",ae=function(n){var t,o,r,a=n.eventKey,d=n.className,l=n.style,s=n.dragOver,c=n.dragOverGapTop,u=n.dragOverGapBottom,p=n.isLeaf,k=n.isStart,m=n.isEnd,K=n.expanded,x=n.selected,N=n.checked,C=n.halfChecked,E=n.loading,S=n.domRef,w=n.active,D=n.data,$=n.onMouseMove,P=n.selectable,O=i(n,te),T=g.useContext(Z),I=g.useContext(J),L=g.useRef(null),M=g.useState(!1),A=v(M,2),B=A[0],j=A[1],H=!!(T.disabled||n.disabled||null!==(t=I.nodeDisabled)&&void 0!==t&&t.call(I,D)),q=g.useMemo((function(){return!(!T.checkable||!1===n.checkable)&&T.checkable}),[T.checkable,n.checkable]),W=function(e){H||q&&!n.disableCheckbox&&T.onNodeCheck(e,_(n),!N)},z=g.useMemo((function(){return"boolean"==typeof P?P:T.selectable}),[P,T.selectable]),G=function(e){T.onNodeClick(e,_(n)),z?function(e){H||T.onNodeSelect(e,_(n))}(e):W(e)},U=function(e){T.onNodeDoubleClick(e,_(n))},F=function(e){T.onNodeMouseEnter(e,_(n))},X=function(e){T.onNodeMouseLeave(e,_(n))},V=function(e){T.onNodeContextMenu(e,_(n))},Y=g.useMemo((function(){return!(!T.draggable||T.draggable.nodeDraggable&&!T.draggable.nodeDraggable(D))}),[T.draggable,D]),Q=function(e){E||T.onNodeExpand(e,_(n))},ee=g.useMemo((function(){var e=(R(T.keyEntities,a)||{}).children;return Boolean((e||[]).length)}),[T.keyEntities,a]),ae=g.useMemo((function(){return!1!==p&&(p||!T.loadData&&!ee||T.loadData&&n.loaded&&!ee)}),[p,T.loadData,ee,n.loaded]);g.useEffect((function(){E||"function"!=typeof T.loadData||!K||ae||n.loaded||T.onNodeLoad(_(n))}),[E,T.loadData,T.onNodeLoad,K,ae,n]);var ie=g.useMemo((function(){var e;return null!==(e=T.draggable)&&void 0!==e&&e.icon?g.createElement("span",{className:"".concat(T.prefixCls,"-draggable-icon")},T.draggable.icon):null}),[T.draggable]),de=function(t){var o=n.switcherIcon||T.switcherIcon;return"function"==typeof o?o(e(e({},n),{},{isLeaf:t})):o},le=g.useMemo((function(){if(!q)return null;var e="boolean"!=typeof q?q:null;return g.createElement("span",{className:f("".concat(T.prefixCls,"-checkbox"),h(h(h({},"".concat(T.prefixCls,"-checkbox-checked"),N),"".concat(T.prefixCls,"-checkbox-indeterminate"),!N&&C),"".concat(T.prefixCls,"-checkbox-disabled"),H||n.disableCheckbox)),onClick:W,role:"checkbox","aria-checked":C?"mixed":N,"aria-disabled":H||n.disableCheckbox,"aria-label":"Select ".concat("string"==typeof n.title?n.title:"tree node")},e)}),[q,N,C,H,n.disableCheckbox,n.title]),se=g.useMemo((function(){return ae?null:K?oe:re}),[ae,K]),ce=g.useMemo((function(){return g.createElement("span",{className:f("".concat(T.prefixCls,"-iconEle"),"".concat(T.prefixCls,"-icon__").concat(se||"docu"),h({},"".concat(T.prefixCls,"-icon_loading"),E))})}),[T.prefixCls,se,E]),ue=g.useMemo((function(){var e=Boolean(T.draggable);return!n.disabled&&e&&T.dragOverNodeKey===a?T.dropIndicatorRender({dropPosition:T.dropPosition,dropLevelOffset:T.dropLevelOffset,indent:T.indent,prefixCls:T.prefixCls,direction:T.direction}):null}),[T.dropPosition,T.dropLevelOffset,T.indent,T.prefixCls,T.direction,T.draggable,T.dragOverNodeKey,T.dropIndicatorRender]),pe=g.useMemo((function(){var e,t,o=n.title,r=void 0===o?"---":o,a="".concat(T.prefixCls,"-node-content-wrapper");if(T.showIcon){var i=n.icon||T.icon;e=i?g.createElement("span",{className:f("".concat(T.prefixCls,"-iconEle"),"".concat(T.prefixCls,"-icon__customize"))},"function"==typeof i?i(n):i):ce}else T.loadData&&E&&(e=ce);return t="function"==typeof r?r(D):T.titleRender?T.titleRender(D):r,g.createElement("span",{ref:L,title:"string"==typeof r?r:"",className:f(a,"".concat(a,"-").concat(se||"normal"),h({},"".concat(T.prefixCls,"-node-selected"),!H&&(x||B))),onMouseEnter:F,onMouseLeave:X,onContextMenu:V,onClick:G,onDoubleClick:U},e,g.createElement("span",{className:"".concat(T.prefixCls,"-title")},t),ue)}),[T.prefixCls,T.showIcon,n,T.icon,ce,T.titleRender,D,se,F,X,V,G,U]),fe=y(O,{aria:!0,data:!0}),he=(R(T.keyEntities,a)||{}).level,ge=m[m.length-1],ve=!H&&Y,ye=T.draggingNodeKey===a,be=void 0!==P?{"aria-selected":!!P}:void 0;return g.createElement("div",b({ref:S,role:"treeitem","aria-expanded":p?void 0:K,className:f(d,"".concat(T.prefixCls,"-treenode"),(r={},h(h(h(h(h(h(h(h(h(h(r,"".concat(T.prefixCls,"-treenode-disabled"),H),"".concat(T.prefixCls,"-treenode-switcher-").concat(K?"open":"close"),!p),"".concat(T.prefixCls,"-treenode-checkbox-checked"),N),"".concat(T.prefixCls,"-treenode-checkbox-indeterminate"),C),"".concat(T.prefixCls,"-treenode-selected"),x),"".concat(T.prefixCls,"-treenode-loading"),E),"".concat(T.prefixCls,"-treenode-active"),w),"".concat(T.prefixCls,"-treenode-leaf-last"),ge),"".concat(T.prefixCls,"-treenode-draggable"),Y),"dragging",ye),h(h(h(h(h(h(h(r,"drop-target",T.dropTargetKey===a),"drop-container",T.dropContainerKey===a),"drag-over",!H&&s),"drag-over-gap-top",!H&&c),"drag-over-gap-bottom",!H&&u),"filter-node",null===(o=T.filterTreeNode)||void 0===o?void 0:o.call(T,_(n))),"".concat(T.prefixCls,"-treenode-leaf"),ae))),style:l,draggable:ve,onDragStart:ve?function(e){e.stopPropagation(),j(!0),T.onNodeDragStart(e,n);try{e.dataTransfer.setData("text/plain","")}catch(t){}}:void 0,onDragEnter:Y?function(e){e.preventDefault(),e.stopPropagation(),T.onNodeDragEnter(e,n)}:void 0,onDragOver:Y?function(e){e.preventDefault(),e.stopPropagation(),T.onNodeDragOver(e,n)}:void 0,onDragLeave:Y?function(e){e.stopPropagation(),T.onNodeDragLeave(e,n)}:void 0,onDrop:Y?function(e){e.preventDefault(),e.stopPropagation(),j(!1),T.onNodeDrop(e,n)}:void 0,onDragEnd:Y?function(e){e.stopPropagation(),j(!1),T.onNodeDragEnd(e,n)}:void 0,onMouseMove:$},be,fe),g.createElement(ne,{prefixCls:T.prefixCls,level:he,isStart:k,isEnd:m}),ie,function(){if(ae){var e=de(!0);return!1!==e?g.createElement("span",{className:f("".concat(T.prefixCls,"-switcher"),"".concat(T.prefixCls,"-switcher-noop"))},e):null}var n=de(!1);return!1!==n?g.createElement("span",{onClick:Q,className:f("".concat(T.prefixCls,"-switcher"),"".concat(T.prefixCls,"-switcher_").concat(K?oe:re))},n):null}(),le,pe)};function ie(e,n){if(!e)return[];var t=e.slice(),o=t.indexOf(n);return o>=0&&t.splice(o,1),t}function de(e,n){var t=(e||[]).slice();return-1===t.indexOf(n)&&t.push(n),t}function le(e){return e.split("-")}function se(e,n){var t=[];return function e(){(arguments.length>0&&void 0!==arguments[0]?arguments[0]:[]).forEach((function(n){var o=n.key,r=n.children;t.push(o),e(r)}))}(R(n,e).children),t}function ce(e){if(e.parent){var n=le(e.pos);return Number(n[n.length-1])===e.parent.children.length-1}return!1}function ue(e,n,t,o,r,a,i,d,l,s){var c,u=e.clientX,p=e.clientY,f=e.target.getBoundingClientRect(),h=f.top,g=f.height,v=(("rtl"===s?-1:1)*(((null==r?void 0:r.x)||0)-u)-12)/o,y=l.filter((function(e){var n;return null===(n=d[e])||void 0===n||null===(n=n.children)||void 0===n?void 0:n.length})),b=R(d,t.eventKey);if(p<h+g/2){var k=i.findIndex((function(e){return e.key===b.key})),m=i[k<=0?0:k-1].key;b=R(d,m)}var K=b.key,x=b,N=b.key,C=0,E=0;if(!y.includes(K))for(var S=0;S<v&&ce(b);S+=1)b=b.parent,E+=1;var w,D=n.data,$=b.node,P=!0;return w=le(b.pos),0===Number(w[w.length-1])&&0===b.level&&p<h+g/2&&a({dragNode:D,dropNode:$,dropPosition:-1})&&b.key===t.eventKey?C=-1:(x.children||[]).length&&y.includes(N)?a({dragNode:D,dropNode:$,dropPosition:0})?C=0:P=!1:0===E?v>-1.5?a({dragNode:D,dropNode:$,dropPosition:1})?C=1:P=!1:a({dragNode:D,dropNode:$,dropPosition:0})?C=0:a({dragNode:D,dropNode:$,dropPosition:1})?C=1:P=!1:a({dragNode:D,dropNode:$,dropPosition:1})?C=1:P=!1,{dropPosition:C,dropLevelOffset:E,dropTargetKey:b.key,dropTargetPos:b.pos,dragOverNodeKey:N,dropContainerKey:0===C?null:(null===(c=b.parent)||void 0===c?void 0:c.key)||null,dropAllowed:P}}function pe(e,n){if(e)return n.multiple?e.slice():e.length?[e[0]]:e}function fe(e){if(!e)return null;var t;if(Array.isArray(e))t={checkedKeys:e,halfCheckedKeys:void 0};else{if("object"!==r(e))return n(!1,"`checkedKeys` is not an array or an object"),null;t={checkedKeys:e.checked||void 0,halfCheckedKeys:e.halfChecked||void 0}}return t}function he(e,n){var t=new Set;function r(e){if(!t.has(e)){var o=R(n,e);if(o){t.add(e);var a=o.parent;o.node.disabled||a&&r(a.key)}}}return(e||[]).forEach((function(e){r(e)})),o(t)}ae.isTreeNode=1;function ge(e){if(null==e)throw new TypeError("Cannot destructure "+e)}var ve=["className","style","motion","motionNodes","motionType","onMotionStart","onMotionEnd","active","treeNodeRequiredProps"],ye=p.forwardRef((function(e,n){var t=e.className,o=e.style,r=e.motion,a=e.motionNodes,d=e.motionType,l=e.onMotionStart,s=e.onMotionEnd,c=e.active,u=e.treeNodeRequiredProps,h=i(e,ve),g=p.useState(!0),y=v(g,2),K=y[0],x=y[1],N=p.useContext(Z).prefixCls,C=a&&"hide"!==d;k((function(){a&&C!==K&&x(C)}),[a]);var E=p.useRef(!1),S=function(){a&&!E.current&&(E.current=!0,s())};!function(e,n){var t=p.useState(!1),o=v(t,2),r=o[0],a=o[1];k((function(){if(r)return e(),function(){n()}}),[r]),k((function(){return a(!0),function(){a(!1)}}),[])}((function(){a&&l()}),S);return a?p.createElement(m,b({ref:n,visible:K},r,{motionAppear:"show"===d,onVisibleChanged:function(e){C===e&&S()}}),(function(e,n){var t=e.className,o=e.style;return p.createElement("div",{ref:n,className:f("".concat(N,"-treenode-motion"),t),style:o},a.map((function(e){var n=Object.assign({},(ge(e.data),e.data)),t=e.title,o=e.key,r=e.isStart,a=e.isEnd;delete n.children;var i=G(o,u);return p.createElement(ae,b({},n,i,{title:t,active:c,data:e.data,key:o,isStart:r,isEnd:a}))})))})):p.createElement(ae,b({domRef:n,className:t,style:o},h,{active:c}))}));function be(e,n,t){var o=e.findIndex((function(e){return e.key===t})),r=e[o+1],a=n.findIndex((function(e){return e.key===t}));if(r){var i=n.findIndex((function(e){return e.key===r.key}));return n.slice(a+1,i)}return n.slice(a+1)}var ke=["prefixCls","data","selectable","checkable","expandedKeys","selectedKeys","checkedKeys","loadedKeys","loadingKeys","halfCheckedKeys","keyEntities","disabled","dragging","dragOverNodeKey","dropPosition","motion","height","itemHeight","virtual","scrollWidth","focusable","activeItem","focused","tabIndex","onKeyDown","onFocus","onBlur","onActiveChange","onListChangeStart","onListChangeEnd"],me={width:0,height:0,display:"flex",overflow:"hidden",opacity:0,border:0,padding:0,margin:0},Ke=function(){},xe="RC_TREE_MOTION_".concat(Math.random()),Ne={key:xe},Ce={key:xe,level:0,index:0,pos:"0",node:Ne,nodes:[Ne]},Ee={parent:null,children:[],pos:Ce.pos,data:Ne,title:null,key:xe,isStart:[],isEnd:[]};function Se(e,n,t,o){return!1!==n&&t?e.slice(0,Math.ceil(t/o)+1):e}function we(e){return j(e.key,e.pos)}var De=p.forwardRef((function(e,n){var t=e.prefixCls,o=e.data;e.selectable,e.checkable;var r=e.expandedKeys,a=e.selectedKeys,d=e.checkedKeys,l=e.loadedKeys,s=e.loadingKeys,c=e.halfCheckedKeys,u=e.keyEntities,f=e.disabled,h=e.dragging,g=e.dragOverNodeKey,y=e.dropPosition,m=e.motion,K=e.height,x=e.itemHeight,N=e.virtual,C=e.scrollWidth,E=e.focusable,S=e.activeItem,w=e.focused,D=e.tabIndex,$=e.onKeyDown,P=e.onFocus,O=e.onBlur,T=e.onActiveChange,I=e.onListChangeStart,L=e.onListChangeEnd,R=i(e,ke),A=p.useRef(null),B=p.useRef(null);p.useImperativeHandle(n,(function(){return{scrollTo:function(e){A.current.scrollTo(e)},getIndentWidth:function(){return B.current.offsetWidth}}}));var H=p.useState(r),q=v(H,2),W=q[0],z=q[1],_=p.useState(o),U=v(_,2),F=U[0],X=U[1],V=p.useState(o),Y=v(V,2),Q=Y[0],Z=Y[1],J=p.useState([]),ee=v(J,2),ne=ee[0],te=ee[1],oe=p.useState(null),re=v(oe,2),ae=re[0],ie=re[1],de=p.useRef(o);function le(){var e=de.current;X(e),Z(e),te([]),ie(null),L()}de.current=o,k((function(){z(r);var e=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[],t=e.length,o=n.length;if(1!==Math.abs(t-o))return{add:!1,key:null};function r(e,n){var t=new Map;e.forEach((function(e){t.set(e,!0)}));var o=n.filter((function(e){return!t.has(e)}));return 1===o.length?o[0]:null}return t<o?{add:!0,key:r(e,n)}:{add:!1,key:r(n,e)}}(W,r);if(null!==e.key)if(e.add){var n=F.findIndex((function(n){return n.key===e.key})),t=Se(be(F,o,e.key),N,K,x),a=F.slice();a.splice(n+1,0,Ee),Z(a),te(t),ie("show")}else{var i=o.findIndex((function(n){return n.key===e.key})),d=Se(be(o,F,e.key),N,K,x),l=o.slice();l.splice(i+1,0,Ee),Z(l),te(d),ie("hide")}else F!==o&&(X(o),Z(o))}),[r,o]),p.useEffect((function(){h||le()}),[h]);var se=m?Q:o,ce={expandedKeys:r,selectedKeys:a,loadedKeys:l,loadingKeys:s,checkedKeys:d,halfCheckedKeys:c,dragOverNodeKey:g,dropPosition:y,keyEntities:u};return p.createElement(p.Fragment,null,w&&S&&p.createElement("span",{style:me,"aria-live":"assertive"},function(e){for(var n=String(e.data.key),t=e;t.parent;)t=t.parent,n="".concat(t.data.key," > ").concat(n);return n}(S)),p.createElement("div",null,p.createElement("input",{style:me,disabled:!1===E||f,tabIndex:!1!==E?D:null,onKeyDown:$,onFocus:P,onBlur:O,value:"",onChange:Ke,"aria-label":"for screen reader"})),p.createElement("div",{className:"".concat(t,"-treenode"),"aria-hidden":!0,style:{position:"absolute",pointerEvents:"none",visibility:"hidden",height:0,overflow:"hidden",border:0,padding:0}},p.createElement("div",{className:"".concat(t,"-indent")},p.createElement("div",{ref:B,className:"".concat(t,"-indent-unit")}))),p.createElement(M,b({},R,{data:se,itemKey:we,height:K,fullHeight:!1,virtual:N,itemHeight:x,scrollWidth:C,prefixCls:"".concat(t,"-list"),ref:A,role:"tree",onVisibleChange:function(e){e.every((function(e){return we(e)!==xe}))&&le()}}),(function(e){var n=e.pos,t=Object.assign({},(ge(e.data),e.data)),o=e.title,r=e.key,a=e.isStart,i=e.isEnd,d=j(r,n);delete t.key,delete t.children;var l=G(d,ce);return p.createElement(ye,b({},t,l,{title:o,active:!!S&&r===S.key,pos:n,data:e.data,isStart:a,isEnd:i,motion:m,motionNodes:r===xe?ne:null,motionType:ae,onMotionStart:I,onMotionEnd:le,treeNodeRequiredProps:ce,onMouseMove:function(){T(null)}}))})))})),$e=function(t){K(i,t);var a=x(i);function i(){var t;N(this,i);for(var r=arguments.length,d=new Array(r),l=0;l<r;l++)d[l]=arguments[l];return t=a.call.apply(a,[this].concat(d)),h(C(t),"destroyed",!1),h(C(t),"delayedDragEnterLogic",void 0),h(C(t),"loadingRetryTimes",{}),h(C(t),"state",{keyEntities:{},indent:null,selectedKeys:[],checkedKeys:[],halfCheckedKeys:[],loadedKeys:[],loadingKeys:[],expandedKeys:[],draggingNodeKey:null,dragChildrenKeys:[],dropTargetKey:null,dropPosition:null,dropContainerKey:null,dropLevelOffset:null,dropTargetPos:null,dropAllowed:!0,dragOverNodeKey:null,treeData:[],flattenNodes:[],focused:!1,activeKey:null,listChanging:!1,prevProps:null,fieldNames:H()}),h(C(t),"dragStartMousePosition",null),h(C(t),"dragNodeProps",null),h(C(t),"currentMouseOverDroppableNodeKey",null),h(C(t),"listRef",p.createRef()),h(C(t),"onNodeDragStart",(function(e,n){var o=t.state,r=o.expandedKeys,a=o.keyEntities,i=t.props.onDragStart,d=n.eventKey;t.dragNodeProps=n,t.dragStartMousePosition={x:e.clientX,y:e.clientY};var l=ie(r,d);t.setState({draggingNodeKey:d,dragChildrenKeys:se(d,a),indent:t.listRef.current.getIndentWidth()}),t.setExpandedKeys(l),window.addEventListener("dragend",t.onWindowDragEnd),null==i||i({event:e,node:_(n)})})),h(C(t),"onNodeDragEnter",(function(e,n){var r=t.state,a=r.expandedKeys,i=r.keyEntities,d=r.dragChildrenKeys,l=r.flattenNodes,s=r.indent,c=t.props,u=c.onDragEnter,p=c.onExpand,f=c.allowDrop,h=c.direction,g=n.pos,v=n.eventKey;if(t.currentMouseOverDroppableNodeKey!==v&&(t.currentMouseOverDroppableNodeKey=v),t.dragNodeProps){var y=ue(e,t.dragNodeProps,n,s,t.dragStartMousePosition,f,l,i,a,h),b=y.dropPosition,k=y.dropLevelOffset,m=y.dropTargetKey,K=y.dropContainerKey,x=y.dropTargetPos,N=y.dropAllowed,C=y.dragOverNodeKey;!d.includes(m)&&N?(t.delayedDragEnterLogic||(t.delayedDragEnterLogic={}),Object.keys(t.delayedDragEnterLogic).forEach((function(e){clearTimeout(t.delayedDragEnterLogic[e])})),t.dragNodeProps.eventKey!==n.eventKey&&(e.persist(),t.delayedDragEnterLogic[g]=window.setTimeout((function(){if(null!==t.state.draggingNodeKey){var r=o(a),d=R(i,n.eventKey);d&&(d.children||[]).length&&(r=de(a,n.eventKey)),t.props.hasOwnProperty("expandedKeys")||t.setExpandedKeys(r),null==p||p(r,{node:_(n),expanded:!0,nativeEvent:e.nativeEvent})}}),800)),t.dragNodeProps.eventKey!==m||0!==k?(t.setState({dragOverNodeKey:C,dropPosition:b,dropLevelOffset:k,dropTargetKey:m,dropContainerKey:K,dropTargetPos:x,dropAllowed:N}),null==u||u({event:e,node:_(n),expandedKeys:a})):t.resetDragState()):t.resetDragState()}else t.resetDragState()})),h(C(t),"onNodeDragOver",(function(e,n){var o=t.state,r=o.dragChildrenKeys,a=o.flattenNodes,i=o.keyEntities,d=o.expandedKeys,l=o.indent,s=t.props,c=s.onDragOver,u=s.allowDrop,p=s.direction;if(t.dragNodeProps){var f=ue(e,t.dragNodeProps,n,l,t.dragStartMousePosition,u,a,i,d,p),h=f.dropPosition,g=f.dropLevelOffset,v=f.dropTargetKey,y=f.dropContainerKey,b=f.dropTargetPos,k=f.dropAllowed,m=f.dragOverNodeKey;!r.includes(v)&&k&&(t.dragNodeProps.eventKey===v&&0===g?null===t.state.dropPosition&&null===t.state.dropLevelOffset&&null===t.state.dropTargetKey&&null===t.state.dropContainerKey&&null===t.state.dropTargetPos&&!1===t.state.dropAllowed&&null===t.state.dragOverNodeKey||t.resetDragState():h===t.state.dropPosition&&g===t.state.dropLevelOffset&&v===t.state.dropTargetKey&&y===t.state.dropContainerKey&&b===t.state.dropTargetPos&&k===t.state.dropAllowed&&m===t.state.dragOverNodeKey||t.setState({dropPosition:h,dropLevelOffset:g,dropTargetKey:v,dropContainerKey:y,dropTargetPos:b,dropAllowed:k,dragOverNodeKey:m}),null==c||c({event:e,node:_(n)}))}})),h(C(t),"onNodeDragLeave",(function(e,n){t.currentMouseOverDroppableNodeKey!==n.eventKey||e.currentTarget.contains(e.relatedTarget)||(t.resetDragState(),t.currentMouseOverDroppableNodeKey=null);var o=t.props.onDragLeave;null==o||o({event:e,node:_(n)})})),h(C(t),"onWindowDragEnd",(function(e){t.onNodeDragEnd(e,null,!0),window.removeEventListener("dragend",t.onWindowDragEnd)})),h(C(t),"onNodeDragEnd",(function(e,n){var o=t.props.onDragEnd;t.setState({dragOverNodeKey:null}),t.cleanDragState(),null==o||o({event:e,node:_(n)}),t.dragNodeProps=null,window.removeEventListener("dragend",t.onWindowDragEnd)})),h(C(t),"onNodeDrop",(function(o,r){var a,i=arguments.length>2&&void 0!==arguments[2]&&arguments[2],d=t.state,l=d.dragChildrenKeys,s=d.dropPosition,c=d.dropTargetKey,u=d.dropTargetPos;if(d.dropAllowed){var p=t.props.onDrop;if(t.setState({dragOverNodeKey:null}),t.cleanDragState(),null!==c){var f=e(e({},G(c,t.getTreeNodeRequiredProps())),{},{active:(null===(a=t.getActiveItem())||void 0===a?void 0:a.key)===c,data:R(t.state.keyEntities,c).node}),h=l.includes(c);n(!h,"Can not drop to dragNode's children node. This is a bug of rc-tree. Please report an issue.");var g=le(u),v={event:o,node:_(f),dragNode:t.dragNodeProps?_(t.dragNodeProps):null,dragNodesKeys:[t.dragNodeProps.eventKey].concat(l),dropToGap:0!==s,dropPosition:s+Number(g[g.length-1])};i||null==p||p(v),t.dragNodeProps=null}}})),h(C(t),"cleanDragState",(function(){null!==t.state.draggingNodeKey&&t.setState({draggingNodeKey:null,dropPosition:null,dropContainerKey:null,dropTargetKey:null,dropLevelOffset:null,dropAllowed:!0,dragOverNodeKey:null}),t.dragStartMousePosition=null,t.currentMouseOverDroppableNodeKey=null})),h(C(t),"triggerExpandActionExpand",(function(n,o){var r=t.state,a=r.expandedKeys,i=r.flattenNodes,d=o.expanded,l=o.key;if(!(o.isLeaf||n.shiftKey||n.metaKey||n.ctrlKey)){var s=i.filter((function(e){return e.key===l}))[0],c=_(e(e({},G(l,t.getTreeNodeRequiredProps())),{},{data:s.data}));t.setExpandedKeys(d?ie(a,l):de(a,l)),t.onNodeExpand(n,c)}})),h(C(t),"onNodeClick",(function(e,n){var o=t.props,r=o.onClick;"click"===o.expandAction&&t.triggerExpandActionExpand(e,n),null==r||r(e,n)})),h(C(t),"onNodeDoubleClick",(function(e,n){var o=t.props,r=o.onDoubleClick;"doubleClick"===o.expandAction&&t.triggerExpandActionExpand(e,n),null==r||r(e,n)})),h(C(t),"onNodeSelect",(function(e,n){var o=t.state.selectedKeys,r=t.state,a=r.keyEntities,i=r.fieldNames,d=t.props,l=d.onSelect,s=d.multiple,c=n.selected,u=n[i.key],p=!c,f=(o=p?s?de(o,u):[u]:ie(o,u)).map((function(e){var n=R(a,e);return n?n.node:null})).filter(Boolean);t.setUncontrolledState({selectedKeys:o}),null==l||l(o,{event:"select",selected:p,node:n,selectedNodes:f,nativeEvent:e.nativeEvent})})),h(C(t),"onNodeCheck",(function(e,n,r){var a,i=t.state,d=i.keyEntities,l=i.checkedKeys,s=i.halfCheckedKeys,c=t.props,u=c.checkStrictly,p=c.onCheck,f=n.key,h={event:"check",node:n,checked:r,nativeEvent:e.nativeEvent};if(u){var g=r?de(l,f):ie(l,f);a={checked:g,halfChecked:ie(s,f)},h.checkedNodes=g.map((function(e){return R(d,e)})).filter(Boolean).map((function(e){return e.node})),t.setUncontrolledState({checkedKeys:g})}else{var v=X([].concat(o(l),[f]),!0,d),y=v.checkedKeys,b=v.halfCheckedKeys;if(!r){var k=new Set(y);k.delete(f);var m=X(Array.from(k),{halfCheckedKeys:b},d);y=m.checkedKeys,b=m.halfCheckedKeys}a=y,h.checkedNodes=[],h.checkedNodesPositions=[],h.halfCheckedKeys=b,y.forEach((function(e){var n=R(d,e);if(n){var t=n.node,o=n.pos;h.checkedNodes.push(t),h.checkedNodesPositions.push({node:t,pos:o})}})),t.setUncontrolledState({checkedKeys:y},!1,{halfCheckedKeys:b})}null==p||p(a,h)})),h(C(t),"onNodeLoad",(function(e){var o,r=e.key,a=R(t.state.keyEntities,r);if(null==a||null===(o=a.children)||void 0===o||!o.length){var i=new Promise((function(o,a){t.setState((function(i){var d=i.loadedKeys,l=void 0===d?[]:d,s=i.loadingKeys,c=void 0===s?[]:s,u=t.props,p=u.loadData,f=u.onLoad;return!p||l.includes(r)||c.includes(r)?null:(p(e).then((function(){var n=de(t.state.loadedKeys,r);null==f||f(n,{event:"load",node:e}),t.setUncontrolledState({loadedKeys:n}),t.setState((function(e){return{loadingKeys:ie(e.loadingKeys,r)}})),o()})).catch((function(e){if(t.setState((function(e){return{loadingKeys:ie(e.loadingKeys,r)}})),t.loadingRetryTimes[r]=(t.loadingRetryTimes[r]||0)+1,t.loadingRetryTimes[r]>=10){var i=t.state.loadedKeys;n(!1,"Retry for `loadData` many times but still failed. No more retry."),t.setUncontrolledState({loadedKeys:de(i,r)}),o()}a(e)})),{loadingKeys:de(c,r)})}))}));return i.catch((function(){})),i}})),h(C(t),"onNodeMouseEnter",(function(e,n){var o=t.props.onMouseEnter;null==o||o({event:e,node:n})})),h(C(t),"onNodeMouseLeave",(function(e,n){var o=t.props.onMouseLeave;null==o||o({event:e,node:n})})),h(C(t),"onNodeContextMenu",(function(e,n){var o=t.props.onRightClick;o&&(e.preventDefault(),o({event:e,node:n}))})),h(C(t),"onFocus",(function(){var e=t.props.onFocus;t.setState({focused:!0});for(var n=arguments.length,o=new Array(n),r=0;r<n;r++)o[r]=arguments[r];null==e||e.apply(void 0,o)})),h(C(t),"onBlur",(function(){var e=t.props.onBlur;t.setState({focused:!1}),t.onActiveChange(null);for(var n=arguments.length,o=new Array(n),r=0;r<n;r++)o[r]=arguments[r];null==e||e.apply(void 0,o)})),h(C(t),"getTreeNodeRequiredProps",(function(){var e=t.state;return{expandedKeys:e.expandedKeys||[],selectedKeys:e.selectedKeys||[],loadedKeys:e.loadedKeys||[],loadingKeys:e.loadingKeys||[],checkedKeys:e.checkedKeys||[],halfCheckedKeys:e.halfCheckedKeys||[],dragOverNodeKey:e.dragOverNodeKey,dropPosition:e.dropPosition,keyEntities:e.keyEntities}})),h(C(t),"setExpandedKeys",(function(e){var n=t.state,o=W(n.treeData,e,n.fieldNames);t.setUncontrolledState({expandedKeys:e,flattenNodes:o},!0)})),h(C(t),"onNodeExpand",(function(e,o){var r=t.state.expandedKeys,a=t.state,i=a.listChanging,d=a.fieldNames,l=t.props,s=l.onExpand,c=l.loadData,u=o.expanded,p=o[d.key];if(!i){var f=r.includes(p),h=!u;if(n(u&&f||!u&&!f,"Expand state not sync with index check"),r=h?de(r,p):ie(r,p),t.setExpandedKeys(r),null==s||s(r,{node:o,expanded:h,nativeEvent:e.nativeEvent}),h&&c){var g=t.onNodeLoad(o);g&&g.then((function(){var e=W(t.state.treeData,r,d);t.setUncontrolledState({flattenNodes:e})})).catch((function(){var e=ie(t.state.expandedKeys,p);t.setExpandedKeys(e)}))}}})),h(C(t),"onListChangeStart",(function(){t.setUncontrolledState({listChanging:!0})})),h(C(t),"onListChangeEnd",(function(){setTimeout((function(){t.setUncontrolledState({listChanging:!1})}))})),h(C(t),"onActiveChange",(function(e){var n=t.state.activeKey,o=t.props,r=o.onActiveChange,a=o.itemScrollOffset,i=void 0===a?0:a;n!==e&&(t.setState({activeKey:e}),null!==e&&t.scrollTo({key:e,offset:i}),null==r||r(e))})),h(C(t),"getActiveItem",(function(){var e=t.state,n=e.activeKey,o=e.flattenNodes;return null===n?null:o.find((function(e){return e.key===n}))||null})),h(C(t),"offsetActiveKey",(function(e){var n=t.state,o=n.flattenNodes,r=n.activeKey,a=o.findIndex((function(e){return e.key===r}));-1===a&&e<0&&(a=o.length);var i=o[a=(a+e+o.length)%o.length];if(i){var d=i.key;t.onActiveChange(d)}else t.onActiveChange(null)})),h(C(t),"onKeyDown",(function(n){var o=t.state,r=o.activeKey,a=o.expandedKeys,i=o.checkedKeys,d=o.fieldNames,l=t.props,s=l.onKeyDown,c=l.checkable,u=l.selectable;switch(n.which){case E.UP:t.offsetActiveKey(-1),n.preventDefault();break;case E.DOWN:t.offsetActiveKey(1),n.preventDefault()}var p=t.getActiveItem();if(p&&p.data){var f=t.getTreeNodeRequiredProps(),h=!1===p.data.isLeaf||!!(p.data[d.children]||[]).length,g=_(e(e({},G(r,f)),{},{data:p.data,active:!0}));switch(n.which){case E.LEFT:h&&a.includes(r)?t.onNodeExpand({},g):p.parent&&t.onActiveChange(p.parent.key),n.preventDefault();break;case E.RIGHT:h&&!a.includes(r)?t.onNodeExpand({},g):p.children&&p.children.length&&t.onActiveChange(p.children[0].key),n.preventDefault();break;case E.ENTER:case E.SPACE:!c||g.disabled||!1===g.checkable||g.disableCheckbox?c||!u||g.disabled||!1===g.selectable||t.onNodeSelect({},g):t.onNodeCheck({},g,!i.includes(r))}}null==s||s(n)})),h(C(t),"setUncontrolledState",(function(n){var o=arguments.length>1&&void 0!==arguments[1]&&arguments[1],r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null;if(!t.destroyed){var a=!1,i=!0,d={};Object.keys(n).forEach((function(e){t.props.hasOwnProperty(e)?i=!1:(a=!0,d[e]=n[e])})),!a||o&&!i||t.setState(e(e({},d),r))}})),h(C(t),"scrollTo",(function(e){t.listRef.current.scrollTo(e)})),t}return S(i,[{key:"componentDidMount",value:function(){this.destroyed=!1,this.onUpdated()}},{key:"componentDidUpdate",value:function(){this.onUpdated()}},{key:"onUpdated",value:function(){var e=this.props,n=e.activeKey,t=e.itemScrollOffset,o=void 0===t?0:t;void 0!==n&&n!==this.state.activeKey&&(this.setState({activeKey:n}),null!==n&&this.scrollTo({key:n,offset:o}))}},{key:"componentWillUnmount",value:function(){window.removeEventListener("dragend",this.onWindowDragEnd),this.destroyed=!0}},{key:"resetDragState",value:function(){this.setState({dragOverNodeKey:null,dropPosition:null,dropLevelOffset:null,dropTargetKey:null,dropContainerKey:null,dropTargetPos:null,dropAllowed:!1})}},{key:"render",value:function(){var e,n=this.state,t=n.focused,o=n.flattenNodes,a=n.keyEntities,i=n.draggingNodeKey,d=n.activeKey,l=n.dropLevelOffset,s=n.dropContainerKey,c=n.dropTargetKey,u=n.dropPosition,g=n.dragOverNodeKey,v=n.indent,k=this.props,m=k.prefixCls,K=k.className,x=k.style,N=k.showLine,C=k.focusable,E=k.tabIndex,S=void 0===E?0:E,w=k.selectable,D=k.showIcon,$=k.icon,P=k.switcherIcon,O=k.draggable,T=k.checkable,I=k.checkStrictly,L=k.disabled,M=k.motion,R=k.loadData,A=k.filterTreeNode,B=k.height,j=k.itemHeight,H=k.scrollWidth,q=k.virtual,W=k.titleRender,z=k.dropIndicatorRender,G=k.onContextMenu,_=k.onScroll,U=k.direction,F=k.rootClassName,X=k.rootStyle,V=y(this.props,{aria:!0,data:!0});O&&(e="object"===r(O)?O:"function"==typeof O?{nodeDraggable:O}:{});var Y={prefixCls:m,selectable:w,showIcon:D,icon:$,switcherIcon:P,draggable:e,draggingNodeKey:i,checkable:T,checkStrictly:I,disabled:L,keyEntities:a,dropLevelOffset:l,dropContainerKey:s,dropTargetKey:c,dropPosition:u,dragOverNodeKey:g,indent:v,direction:U,dropIndicatorRender:z,loadData:R,filterTreeNode:A,titleRender:W,onNodeClick:this.onNodeClick,onNodeDoubleClick:this.onNodeDoubleClick,onNodeExpand:this.onNodeExpand,onNodeSelect:this.onNodeSelect,onNodeCheck:this.onNodeCheck,onNodeLoad:this.onNodeLoad,onNodeMouseEnter:this.onNodeMouseEnter,onNodeMouseLeave:this.onNodeMouseLeave,onNodeContextMenu:this.onNodeContextMenu,onNodeDragStart:this.onNodeDragStart,onNodeDragEnter:this.onNodeDragEnter,onNodeDragOver:this.onNodeDragOver,onNodeDragLeave:this.onNodeDragLeave,onNodeDragEnd:this.onNodeDragEnd,onNodeDrop:this.onNodeDrop};return p.createElement(Z.Provider,{value:Y},p.createElement("div",{className:f(m,K,F,h(h(h({},"".concat(m,"-show-line"),N),"".concat(m,"-focused"),t),"".concat(m,"-active-focused"),null!==d)),style:X},p.createElement(De,b({ref:this.listRef,prefixCls:m,style:x,data:o,disabled:L,selectable:w,checkable:!!T,motion:M,dragging:null!==i,height:B,itemHeight:j,virtual:q,focusable:C,focused:t,tabIndex:S,activeItem:this.getActiveItem(),onFocus:this.onFocus,onBlur:this.onBlur,onKeyDown:this.onKeyDown,onActiveChange:this.onActiveChange,onListChangeStart:this.onListChangeStart,onListChangeEnd:this.onListChangeEnd,onContextMenu:G,onScroll:_,scrollWidth:H},this.getTreeNodeRequiredProps(),V))))}}],[{key:"getDerivedStateFromProps",value:function(t,o){var r,a=o.prevProps,i={prevProps:t};function d(e){return!a&&t.hasOwnProperty(e)||a&&a[e]!==t[e]}var l=o.fieldNames;if(d("fieldNames")&&(l=H(t.fieldNames),i.fieldNames=l),d("treeData")?r=t.treeData:d("children")&&(n(!1,"`children` of Tree is deprecated. Please use `treeData` instead."),r=q(t.children)),r){i.treeData=r;var s=z(r,{fieldNames:l});i.keyEntities=e(h({},xe,Ce),s.keyEntities)}var c,u=i.keyEntities||o.keyEntities;if(d("expandedKeys")||a&&d("autoExpandParent"))i.expandedKeys=t.autoExpandParent||!a&&t.defaultExpandParent?he(t.expandedKeys,u):t.expandedKeys;else if(!a&&t.defaultExpandAll){var p=e({},u);delete p[xe];var f=[];Object.keys(p).forEach((function(e){var n=p[e];n.children&&n.children.length&&f.push(n.key)})),i.expandedKeys=f}else!a&&t.defaultExpandedKeys&&(i.expandedKeys=t.autoExpandParent||t.defaultExpandParent?he(t.defaultExpandedKeys,u):t.defaultExpandedKeys);if(i.expandedKeys||delete i.expandedKeys,r||i.expandedKeys){var g=W(r||o.treeData,i.expandedKeys||o.expandedKeys,l);i.flattenNodes=g}if((t.selectable&&(d("selectedKeys")?i.selectedKeys=pe(t.selectedKeys,t):!a&&t.defaultSelectedKeys&&(i.selectedKeys=pe(t.defaultSelectedKeys,t))),t.checkable)&&(d("checkedKeys")?c=fe(t.checkedKeys)||{}:!a&&t.defaultCheckedKeys?c=fe(t.defaultCheckedKeys)||{}:r&&(c=fe(t.checkedKeys)||{checkedKeys:o.checkedKeys,halfCheckedKeys:o.halfCheckedKeys}),c)){var v=c,y=v.checkedKeys,b=void 0===y?[]:y,k=v.halfCheckedKeys,m=void 0===k?[]:k;if(!t.checkStrictly){var K=X(b,!0,u);b=K.checkedKeys,m=K.halfCheckedKeys}i.checkedKeys=b,i.halfCheckedKeys=m}return d("loadedKeys")&&(i.loadedKeys=t.loadedKeys),i}}]),i}(p.Component);h($e,"defaultProps",{prefixCls:"rc-tree",showLine:!1,showIcon:!0,selectable:!0,multiple:!1,checkable:!1,disabled:!1,checkStrictly:!1,draggable:!1,defaultExpandParent:!0,autoExpandParent:!1,defaultExpandAll:!1,defaultExpandedKeys:[],defaultCheckedKeys:[],defaultSelectedKeys:[],dropIndicatorRender:function(e){var n=e.dropPosition,t=e.dropLevelOffset,o=e.indent,r={pointerEvents:"none",position:"absolute",right:0,backgroundColor:"red",height:2};switch(n){case-1:r.top=0,r.left=-t*o;break;case 1:r.bottom=0,r.left=-t*o;break;case 0:r.bottom=0,r.left=o}return g.createElement("div",{style:r})},allowDrop:function(){return!0},expandAction:!1}),h($e,"TreeNode",ae);const Pe=e=>{let{treeCls:n,treeNodeCls:t,directoryNodeSelectedBg:o,directoryNodeSelectedColor:r,motionDurationMid:a,borderRadius:i,controlItemBgHover:d}=e;return{[`${n}${n}-directory ${t}`]:{[`${n}-node-content-wrapper`]:{position:"static",[`> *:not(${n}-drop-indicator)`]:{position:"relative"},"&:hover":{background:"transparent"},"&:before":{position:"absolute",inset:0,transition:`background-color ${a}`,content:'""',borderRadius:i},"&:hover:before":{background:d}},[`${n}-switcher, ${n}-checkbox, ${n}-draggable-icon`]:{zIndex:1},"&-selected":{[`${n}-switcher, ${n}-draggable-icon`]:{color:r},[`${n}-node-content-wrapper`]:{color:r,background:"transparent","&:before, &:hover:before":{background:o}}}}}},Oe=new D("ant-tree-node-fx-do-not-use",{"0%":{opacity:0},"100%":{opacity:1}}),Te=(e,n)=>({[`.${e}-switcher-icon`]:{display:"inline-block",fontSize:10,verticalAlign:"baseline",svg:{transition:`transform ${n.motionDurationSlow}`}}}),Ie=(e,n)=>({[`.${e}-drop-indicator`]:{position:"absolute",zIndex:1,height:2,backgroundColor:n.colorPrimary,borderRadius:1,pointerEvents:"none","&:after":{position:"absolute",top:-3,insetInlineStart:-6,width:8,height:8,backgroundColor:"transparent",border:`${s(n.lineWidthBold)} solid ${n.colorPrimary}`,borderRadius:"50%",content:'""'}}}),Le=(e,n)=>{const{treeCls:t,treeNodeCls:o,treeNodePadding:r,titleHeight:a,indentSize:i,nodeSelectedBg:d,nodeHoverBg:u,colorTextQuaternary:p,controlItemBgActiveDisabled:f}=n;return{[t]:Object.assign(Object.assign({},l(n)),{background:n.colorBgContainer,borderRadius:n.borderRadius,transition:`background-color ${n.motionDurationSlow}`,"&-rtl":{direction:"rtl"},[`&${t}-rtl ${t}-switcher_close ${t}-switcher-icon svg`]:{transform:"rotate(90deg)"},[`&-focused:not(:hover):not(${t}-active-focused)`]:Object.assign({},c(n)),[`${t}-list-holder-inner`]:{alignItems:"flex-start"},[`&${t}-block-node`]:{[`${t}-list-holder-inner`]:{alignItems:"stretch",[`${t}-node-content-wrapper`]:{flex:"auto"},[`${o}.dragging:after`]:{position:"absolute",inset:0,border:`1px solid ${n.colorPrimary}`,opacity:0,animationName:Oe,animationDuration:n.motionDurationSlow,animationPlayState:"running",animationFillMode:"forwards",content:'""',pointerEvents:"none",borderRadius:n.borderRadius}}},[o]:{display:"flex",alignItems:"flex-start",marginBottom:r,lineHeight:s(a),position:"relative","&:before":{content:'""',position:"absolute",zIndex:1,insetInlineStart:0,width:"100%",top:"100%",height:r},[`&-disabled ${t}-node-content-wrapper`]:{color:n.colorTextDisabled,cursor:"not-allowed","&:hover":{background:"transparent"}},[`${t}-checkbox-disabled + ${t}-node-selected,&${o}-disabled${o}-selected ${t}-node-content-wrapper`]:{backgroundColor:f},[`${t}-checkbox-disabled`]:{pointerEvents:"unset"},[`&:not(${o}-disabled)`]:{[`${t}-node-content-wrapper`]:{"&:hover":{color:n.nodeHoverColor}}},[`&-active ${t}-node-content-wrapper`]:{background:n.controlItemBgHover},[`&:not(${o}-disabled).filter-node ${t}-title`]:{color:n.colorPrimary,fontWeight:500},"&-draggable":{cursor:"grab",[`${t}-draggable-icon`]:{flexShrink:0,width:a,textAlign:"center",visibility:"visible",color:p},[`&${o}-disabled ${t}-draggable-icon`]:{visibility:"hidden"}}},[`${t}-indent`]:{alignSelf:"stretch",whiteSpace:"nowrap",userSelect:"none","&-unit":{display:"inline-block",width:i}},[`${t}-draggable-icon`]:{visibility:"hidden"},[`${t}-switcher, ${t}-checkbox`]:{marginInlineEnd:n.calc(n.calc(a).sub(n.controlInteractiveSize)).div(2).equal()},[`${t}-switcher`]:Object.assign(Object.assign({},Te(e,n)),{position:"relative",flex:"none",alignSelf:"stretch",width:a,textAlign:"center",cursor:"pointer",userSelect:"none",transition:`all ${n.motionDurationSlow}`,"&-noop":{cursor:"unset"},"&:before":{pointerEvents:"none",content:'""',width:a,height:a,position:"absolute",left:{_skip_check_:!0,value:0},top:0,borderRadius:n.borderRadius,transition:`all ${n.motionDurationSlow}`},[`&:not(${t}-switcher-noop):hover:before`]:{backgroundColor:n.colorBgTextHover},[`&_close ${t}-switcher-icon svg`]:{transform:"rotate(-90deg)"},"&-loading-icon":{color:n.colorPrimary},"&-leaf-line":{position:"relative",zIndex:1,display:"inline-block",width:"100%",height:"100%","&:before":{position:"absolute",top:0,insetInlineEnd:n.calc(a).div(2).equal(),bottom:n.calc(r).mul(-1).equal(),marginInlineStart:-1,borderInlineEnd:`1px solid ${n.colorBorder}`,content:'""'},"&:after":{position:"absolute",width:n.calc(n.calc(a).div(2).equal()).mul(.8).equal(),height:n.calc(a).div(2).equal(),borderBottom:`1px solid ${n.colorBorder}`,content:'""'}}}),[`${t}-node-content-wrapper`]:Object.assign(Object.assign({position:"relative",minHeight:a,paddingBlock:0,paddingInline:n.paddingXS,background:"transparent",borderRadius:n.borderRadius,cursor:"pointer",transition:`all ${n.motionDurationMid}, border 0s, line-height 0s, box-shadow 0s`},Ie(e,n)),{"&:hover":{backgroundColor:u},[`&${t}-node-selected`]:{color:n.nodeSelectedColor,backgroundColor:d},[`${t}-iconEle`]:{display:"inline-block",width:a,height:a,textAlign:"center",verticalAlign:"top","&:empty":{display:"none"}}}),[`${t}-unselectable ${t}-node-content-wrapper:hover`]:{backgroundColor:"transparent"},[`${o}.drop-container > [draggable]`]:{boxShadow:`0 0 0 2px ${n.colorPrimary}`},"&-show-line":{[`${t}-indent-unit`]:{position:"relative",height:"100%","&:before":{position:"absolute",top:0,insetInlineEnd:n.calc(a).div(2).equal(),bottom:n.calc(r).mul(-1).equal(),borderInlineEnd:`1px solid ${n.colorBorder}`,content:'""'},"&-end:before":{display:"none"}},[`${t}-switcher`]:{background:"transparent","&-line-icon":{verticalAlign:"-0.15em"}}},[`${o}-leaf-last ${t}-switcher-leaf-line:before`]:{top:"auto !important",bottom:"auto !important",height:`${s(n.calc(a).div(2).equal())} !important`}})}},Me=function(e,n){let t=!(arguments.length>2&&void 0!==arguments[2])||arguments[2];const o=`.${e}`,r=`${o}-treenode`,a=n.calc(n.paddingXS).div(2).equal(),i=d(n,{treeCls:o,treeNodeCls:r,treeNodePadding:a});return[Le(e,i),t&&Pe(i)].filter(Boolean)},Re=e=>{const{controlHeightSM:n,controlItemBgHover:t,controlItemBgActive:o}=e;return{titleHeight:n,indentSize:n,nodeHoverBg:t,nodeHoverColor:e.colorText,nodeSelectedBg:o,nodeSelectedColor:e.colorText}},Ae=u("Tree",((e,n)=>{let{prefixCls:t}=n;return[{[e.componentCls]:Y(`${t}-checkbox`,e)},Me(t,e),w(e)]}),(e=>{const{colorTextLightSolid:n,colorPrimary:t}=e;return Object.assign(Object.assign({},Re(e)),{directoryNodeSelectedColor:n,directoryNodeSelectedBg:t})})),Be=e=>{const{prefixCls:n,switcherIcon:t,treeNodeProps:o,showLine:r,switcherLoadingIcon:a}=e,{isLeaf:i,expanded:d,loading:l}=o;if(l)return p.isValidElement(a)?a:p.createElement($,{className:`${n}-switcher-loading-icon`});let s;if(r&&"object"==typeof r&&(s=r.showLeafIcon),i){if(!r)return null;if("boolean"!=typeof s&&s){const e="function"==typeof s?s(o):s,t=`${n}-switcher-line-custom-icon`;return p.isValidElement(e)?P(e,{className:f(e.props.className||"",t)}):e}return s?p.createElement(O,{className:`${n}-switcher-line-icon`}):p.createElement("span",{className:`${n}-switcher-leaf-line`})}const c=`${n}-switcher-icon`,u="function"==typeof t?t(o):t;return p.isValidElement(u)?P(u,{className:f(u.props.className||"",c)}):void 0!==u?u:r?d?p.createElement(T,{className:`${n}-switcher-line-icon`}):p.createElement(I,{className:`${n}-switcher-line-icon`}):p.createElement(L,{className:c})};export{Be as S,$e as T,J as U,X as a,ie as b,z as c,de as d,Me as e,Ae as f,Y as g,H as h,Re as i,he as j,q as k,ae as l,Q as u};
